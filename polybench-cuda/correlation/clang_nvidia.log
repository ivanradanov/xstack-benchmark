rm nvtarget.exe nvtarget_noelle.exe || true
clang -g -fopenmp -fopenmp-cuda-mode -Rpass=openmp-opt -Rpass-analysis=openmp-opt -Rpass-missed=openmp-opt -fopenmp-assume-no-thread-state -fopenmp-assume-no-nested-parallelism --offload-arch=native correlation_gpu.c -O3 -c -o correlation_nvtarget.o
correlation_gpu.c:387:35: warning: passing 'uint8_t[8]' (aka 'unsigned char[8]') to parameter of type 'const char *' converts between pointers to integer types where one is of the unique plain 'char' type and the other is not [-Wpointer-sign]
  387 |   uint32_t call = fprintf(stderr, (_OC_str), corr[(i * m + j)]);
      |                                   ^~~~~~~~~
/usr/include/stdio.h:327:30: note: passing argument to parameter '__format' here
  327 |                     const char *__restrict __format, ...);
      |                                            ^
correlation_gpu.c:389:19: warning: passing 'uint8_t[2]' (aka 'unsigned char[2]') to parameter of type 'const char *' converts between pointers to integer types where one is of the unique plain 'char' type and the other is not [-Wpointer-sign]
  389 |   fprintf(stderr, (_OC_str_OC_1));
      |                   ^~~~~~~~~~~~~~
/usr/include/stdio.h:327:30: note: passing argument to parameter '__format' here
  327 |                     const char *__restrict __format, ...);
      |                                            ^
correlation_gpu.c:389:19: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  389 |   fprintf(stderr, (_OC_str_OC_1));
      |                   ^~~~~~~~~~~~~
correlation_gpu.c:389:19: note: treat the string as an argument to avoid this
  389 |   fprintf(stderr, (_OC_str_OC_1));
      |                   ^
      |                   "%s", 
correlation_gpu.c:393:19: warning: passing 'uint8_t[2]' (aka 'unsigned char[2]') to parameter of type 'const char *' converts between pointers to integer types where one is of the unique plain 'char' type and the other is not [-Wpointer-sign]
  393 |   fprintf(stderr, (_OC_str_OC_1));
      |                   ^~~~~~~~~~~~~~
/usr/include/stdio.h:327:30: note: passing argument to parameter '__format' here
  327 |                     const char *__restrict __format, ...);
      |                                            ^
correlation_gpu.c:393:19: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  393 |   fprintf(stderr, (_OC_str_OC_1));
      |                   ^~~~~~~~~~~~~
correlation_gpu.c:393:19: note: treat the string as an argument to avoid this
  393 |   fprintf(stderr, (_OC_str_OC_1));
      |                   ^
      |                   "%s", 
5 warnings generated.
correlation_gpu.c:387:35: warning: passing 'uint8_t[8]' (aka 'unsigned char[8]') to parameter of type 'const char *' converts between pointers to integer types where one is of the unique plain 'char' type and the other is not [-Wpointer-sign]
  387 |   uint32_t call = fprintf(stderr, (_OC_str), corr[(i * m + j)]);
      |                                   ^~~~~~~~~
/usr/include/stdio.h:327:30: note: passing argument to parameter '__format' here
  327 |                     const char *__restrict __format, ...);
      |                                            ^
correlation_gpu.c:389:19: warning: passing 'uint8_t[2]' (aka 'unsigned char[2]') to parameter of type 'const char *' converts between pointers to integer types where one is of the unique plain 'char' type and the other is not [-Wpointer-sign]
  389 |   fprintf(stderr, (_OC_str_OC_1));
      |                   ^~~~~~~~~~~~~~
/usr/include/stdio.h:327:30: note: passing argument to parameter '__format' here
  327 |                     const char *__restrict __format, ...);
      |                                            ^
correlation_gpu.c:389:19: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  389 |   fprintf(stderr, (_OC_str_OC_1));
      |                   ^~~~~~~~~~~~~
correlation_gpu.c:389:19: note: treat the string as an argument to avoid this
  389 |   fprintf(stderr, (_OC_str_OC_1));
      |                   ^
      |                   "%s", 
correlation_gpu.c:393:19: warning: passing 'uint8_t[2]' (aka 'unsigned char[2]') to parameter of type 'const char *' converts between pointers to integer types where one is of the unique plain 'char' type and the other is not [-Wpointer-sign]
  393 |   fprintf(stderr, (_OC_str_OC_1));
      |                   ^~~~~~~~~~~~~~
/usr/include/stdio.h:327:30: note: passing argument to parameter '__format' here
  327 |                     const char *__restrict __format, ...);
      |                                            ^
correlation_gpu.c:393:19: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  393 |   fprintf(stderr, (_OC_str_OC_1));
      |                   ^~~~~~~~~~~~~
correlation_gpu.c:393:19: note: treat the string as an argument to avoid this
  393 |   fprintf(stderr, (_OC_str_OC_1));
      |                   ^
      |                   "%s", 
correlation_gpu.c:262:1: remark: Transformed generic-mode kernel to SPMD-mode. [OMP120] [-Rpass=openmp-opt]
  262 | #pragma omp target teams distribute
      | ^
correlation_gpu.c:280:1: remark: Transformed generic-mode kernel to SPMD-mode. [OMP120] [-Rpass=openmp-opt]
  280 | #pragma omp target teams distribute
      | ^
correlation_gpu.c:301:1: remark: Transformed generic-mode kernel to SPMD-mode. [OMP120] [-Rpass=openmp-opt]
  301 | #pragma omp target teams distribute collapse(2)
      | ^
correlation_gpu.c:325:1: remark: Transformed generic-mode kernel to SPMD-mode. [OMP120] [-Rpass=openmp-opt]
  325 | #pragma omp target teams distribute
      | ^
correlation_gpu.c:346:1: remark: Transformed generic-mode kernel to SPMD-mode. [OMP120] [-Rpass=openmp-opt]
  346 | #pragma omp target teams distribute collapse(2)
      | ^
remark: Moving memory allocation from the heap to the stack. [-Rpass=openmp-opt]
correlation_gpu.c:265:1: remark: Parallel region is used in unexpected ways. Will not attempt to rewrite the state machine. [OMP101] [-Rpass-analysis=openmp-opt]
  265 | #pragma omp parallel for
      | ^
correlation_gpu.c:283:1: remark: Parallel region is used in unexpected ways. Will not attempt to rewrite the state machine. [OMP101] [-Rpass-analysis=openmp-opt]
  283 | #pragma omp parallel for
      | ^
correlation_gpu.c:306:1: remark: Parallel region is used in unexpected ways. Will not attempt to rewrite the state machine. [OMP101] [-Rpass-analysis=openmp-opt]
  306 | #pragma omp parallel for collapse(2)
      | ^
correlation_gpu.c:328:1: remark: Parallel region is used in unexpected ways. Will not attempt to rewrite the state machine. [OMP101] [-Rpass-analysis=openmp-opt]
  328 | #pragma omp parallel for
      | ^
correlation_gpu.c:351:1: remark: Parallel region is used in unexpected ways. Will not attempt to rewrite the state machine. [OMP101] [-Rpass-analysis=openmp-opt]
  351 | #pragma omp parallel for collapse(2)
      | ^
5 warnings generated.
clang -g --offload-link /home/ivan/opt/llvm-18-release//lib/libomptarget.so /home/ivan/opt/llvm-18-release//lib/libomp.so correlation_nvtarget.o -O3 -lm -o nvtarget.exe -foffload-lto /home/ivan/opt/llvm-18-release//lib/libomptarget.devicertl.a
clang -g -fopenmp -fopenmp-cuda-mode -Rpass=openmp-opt -Rpass-analysis=openmp-opt -Rpass-missed=openmp-opt -fopenmp-assume-no-thread-state -fopenmp-assume-no-nested-parallelism --offload-arch=native correlation_gpu_noelle.c -O3 -c -o correlation_nvtarget.o
correlation_gpu_noelle.c:387:35: warning: passing 'uint8_t[8]' (aka 'unsigned char[8]') to parameter of type 'const char *' converts between pointers to integer types where one is of the unique plain 'char' type and the other is not [-Wpointer-sign]
  387 |   uint32_t call = fprintf(stderr, _OC_str, corr[(i * m + j)]);
      |                                   ^~~~~~~
/usr/include/stdio.h:327:30: note: passing argument to parameter '__format' here
  327 |                     const char *__restrict __format, ...);
      |                                            ^
correlation_gpu_noelle.c:389:19: warning: passing 'uint8_t[2]' (aka 'unsigned char[2]') to parameter of type 'const char *' converts between pointers to integer types where one is of the unique plain 'char' type and the other is not [-Wpointer-sign]
  389 |   fprintf(stderr, _OC_str_OC_1);
      |                   ^~~~~~~~~~~~
/usr/include/stdio.h:327:30: note: passing argument to parameter '__format' here
  327 |                     const char *__restrict __format, ...);
      |                                            ^
correlation_gpu_noelle.c:389:19: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  389 |   fprintf(stderr, _OC_str_OC_1);
      |                   ^~~~~~~~~~~~
correlation_gpu_noelle.c:389:19: note: treat the string as an argument to avoid this
  389 |   fprintf(stderr, _OC_str_OC_1);
      |                   ^
      |                   "%s", 
correlation_gpu_noelle.c:393:19: warning: passing 'uint8_t[2]' (aka 'unsigned char[2]') to parameter of type 'const char *' converts between pointers to integer types where one is of the unique plain 'char' type and the other is not [-Wpointer-sign]
  393 |   fprintf(stderr, _OC_str_OC_1);
      |                   ^~~~~~~~~~~~
/usr/include/stdio.h:327:30: note: passing argument to parameter '__format' here
  327 |                     const char *__restrict __format, ...);
      |                                            ^
correlation_gpu_noelle.c:393:19: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  393 |   fprintf(stderr, _OC_str_OC_1);
      |                   ^~~~~~~~~~~~
correlation_gpu_noelle.c:393:19: note: treat the string as an argument to avoid this
  393 |   fprintf(stderr, _OC_str_OC_1);
      |                   ^
      |                   "%s", 
5 warnings generated.
correlation_gpu_noelle.c:387:35: warning: passing 'uint8_t[8]' (aka 'unsigned char[8]') to parameter of type 'const char *' converts between pointers to integer types where one is of the unique plain 'char' type and the other is not [-Wpointer-sign]
  387 |   uint32_t call = fprintf(stderr, _OC_str, corr[(i * m + j)]);
      |                                   ^~~~~~~
/usr/include/stdio.h:327:30: note: passing argument to parameter '__format' here
  327 |                     const char *__restrict __format, ...);
      |                                            ^
correlation_gpu_noelle.c:389:19: warning: passing 'uint8_t[2]' (aka 'unsigned char[2]') to parameter of type 'const char *' converts between pointers to integer types where one is of the unique plain 'char' type and the other is not [-Wpointer-sign]
  389 |   fprintf(stderr, _OC_str_OC_1);
      |                   ^~~~~~~~~~~~
/usr/include/stdio.h:327:30: note: passing argument to parameter '__format' here
  327 |                     const char *__restrict __format, ...);
      |                                            ^
correlation_gpu_noelle.c:389:19: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  389 |   fprintf(stderr, _OC_str_OC_1);
      |                   ^~~~~~~~~~~~
correlation_gpu_noelle.c:389:19: note: treat the string as an argument to avoid this
  389 |   fprintf(stderr, _OC_str_OC_1);
      |                   ^
      |                   "%s", 
correlation_gpu_noelle.c:393:19: warning: passing 'uint8_t[2]' (aka 'unsigned char[2]') to parameter of type 'const char *' converts between pointers to integer types where one is of the unique plain 'char' type and the other is not [-Wpointer-sign]
  393 |   fprintf(stderr, _OC_str_OC_1);
      |                   ^~~~~~~~~~~~
/usr/include/stdio.h:327:30: note: passing argument to parameter '__format' here
  327 |                     const char *__restrict __format, ...);
      |                                            ^
correlation_gpu_noelle.c:393:19: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  393 |   fprintf(stderr, _OC_str_OC_1);
      |                   ^~~~~~~~~~~~
correlation_gpu_noelle.c:393:19: note: treat the string as an argument to avoid this
  393 |   fprintf(stderr, _OC_str_OC_1);
      |                   ^
      |                   "%s", 
correlation_gpu_noelle.c:262:1: remark: Transformed generic-mode kernel to SPMD-mode. [OMP120] [-Rpass=openmp-opt]
  262 | #pragma omp target teams distribute
      | ^
correlation_gpu_noelle.c:280:1: remark: Transformed generic-mode kernel to SPMD-mode. [OMP120] [-Rpass=openmp-opt]
  280 | #pragma omp target teams distribute
      | ^
correlation_gpu_noelle.c:301:1: remark: Transformed generic-mode kernel to SPMD-mode. [OMP120] [-Rpass=openmp-opt]
  301 | #pragma omp target teams distribute collapse(2)
      | ^
correlation_gpu_noelle.c:325:1: remark: Transformed generic-mode kernel to SPMD-mode. [OMP120] [-Rpass=openmp-opt]
  325 | #pragma omp target teams distribute
      | ^
correlation_gpu_noelle.c:346:1: remark: Transformed generic-mode kernel to SPMD-mode. [OMP120] [-Rpass=openmp-opt]
  346 | #pragma omp target teams distribute collapse(2)
      | ^
remark: Moving memory allocation from the heap to the stack. [-Rpass=openmp-opt]
correlation_gpu_noelle.c:265:1: remark: Parallel region is used in unexpected ways. Will not attempt to rewrite the state machine. [OMP101] [-Rpass-analysis=openmp-opt]
  265 | #pragma omp parallel for
      | ^
correlation_gpu_noelle.c:283:1: remark: Parallel region is used in unexpected ways. Will not attempt to rewrite the state machine. [OMP101] [-Rpass-analysis=openmp-opt]
  283 | #pragma omp parallel for
      | ^
correlation_gpu_noelle.c:306:1: remark: Parallel region is used in unexpected ways. Will not attempt to rewrite the state machine. [OMP101] [-Rpass-analysis=openmp-opt]
  306 | #pragma omp parallel for collapse(2)
      | ^
correlation_gpu_noelle.c:328:1: remark: Parallel region is used in unexpected ways. Will not attempt to rewrite the state machine. [OMP101] [-Rpass-analysis=openmp-opt]
  328 | #pragma omp parallel for
      | ^
correlation_gpu_noelle.c:351:1: remark: Parallel region is used in unexpected ways. Will not attempt to rewrite the state machine. [OMP101] [-Rpass-analysis=openmp-opt]
  351 | #pragma omp parallel for collapse(2)
      | ^
5 warnings generated.
clang -g --offload-link /home/ivan/opt/llvm-18-release//lib/libomptarget.so /home/ivan/opt/llvm-18-release//lib/libomp.so correlation_nvtarget.o -O3 -lm -o nvtarget_noelle.exe -foffload-lto /home/ivan/opt/llvm-18-release//lib/libomptarget.devicertl.a
regressions-watchdog 1200  clang_nvidia.time ./nvtarget.exe 0 4000 4000
regressions-watchdog 1200  clang_nvidia.noelle.time ./nvtarget_noelle.exe 0 4000 4000
